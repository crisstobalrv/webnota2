<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title></title>
    <meta name="viewport"
        content="width=device-width, user-scalable=yes, initial-scale=1.0, maximum-scale=3.0, minimum-scale=1.0">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css">
    <link rel="stylesheet" href="assets/css/estilos.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <script src="./js/jquery-3.6.4.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
        crossorigin="anonymous"></script>
    <script src="./js/todo.js"></script>

</head>

<body>
    <form class="formulario" method="get">

        <h1 style="color: black;">Inicio de sesion</h1>
        <div class="contenedor text-center">
            <div class="input-contenedor">
                <i class="fas fa-envelope icon"></i>
                <input type="email" placeholder="Correo Electronico" id="email" />
            </div>
            <div class="input-contenedor">
                <i class="fas fa-key icon"></i>
                <input type="password" placeholder="Contraseña" required id="pass" />
                <span id="help-password"></span>
            </div>
            <span id="mensaje-error" class="d-block" style="font-weight: bolder; color: gold;"></span>
            <button type="submit" class="registerbtn" id="btnentrar">Iniciar sesion</button>
            <p>Al registrarte, aceptas nuestras Condiciones de uso y Política de privacidad.</p>
            <p>¿No tienes una cuenta? <a style="text-decoration: underline;" class="link"
                    href="registro.html">Registrate </a></p>
        </div>
    </form>

    <script>
        var expr = /^[a-zA-Z0-9_.]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$/;
        $(document).ready(function () {
            $("#btnentrar").click(function (e) {
                e.preventDefault();
                var email = $("#email").val();
                var pass = $("#pass").val();

                if (email == "" || !expr.test(email)) {
                    $("#mensaje-error").text(
                        "Por favor, ingrese un email válido."
                    );  
                    $("#email").focus();
                    return;
                }
                else if (pass.length <= 2) {
                    $("#mensaje-error").text(
                        "Por favor, ingrese una contraseña con almenos 3 caracteres."
                    );
                    $("#pass").focus(); // enfoque en el campo de contraseña
                    $("#pass").val("");
                    return;
                } else {
                    return window.location.replace("index.html");
                }

                console.log("Email:", email);
                console.log("Contraseña:", pass);
            });
        });
    </script>


</body>

</html>